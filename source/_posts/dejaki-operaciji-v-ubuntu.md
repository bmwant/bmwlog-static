---
title: Деякі операції в Ubuntu
date: 2015-02-21 17:57:54
tags: [ubuntu, postgresql]
author: Misha Behersky
language: ua
---

### Виділити swap-пам'ять

На віртуальних машинах часто буває недостатньо оперативної пам'яті, а своп стандартно не виділяється. Щоб створити його самостійно (на 1 ГБ в прикладі) виконуємо команди від рута

```bash
$ dd if=/dev/zero of=/swapfile bs=1M count=1024
$ mkswap /swapfile
$ swapon /swapfile
```

В файлі

```bash
$ nano /etc/fstab
```

додаємо рядок

```
/swapfile none swap defaults 0 0
```

і перезавантажуємо.

### Виконати довготривалий процес у фоні

Часто потрібно підключитися по ssh, запустити якусь програму і закрити клієнт, щоб вона продовжувала працювати. Наприклад, тимчасово запустити сервер, щоб можна було протестувати якийсь функціонал. Для цього є команда `nohup`

```bash
$ nohup python server.py &
```
Після цього можна закривати термінал, а процес продовжить працювати. В кінці обов'язковий знак амперсанда.

```bash
$ nohup longproccess &
$ exit
```

### Перезавантажити машину

```bash
$ reboot
```

### Операції в PostgreSQL

Перейти в режим користувача-postgres для роботи з базами даних

```bash
$ su postgres
```

Видалити базу даних. Переконайтеся, що до неї немає активних підключень

```bash
$ dropdb database_name
```

Створити нового користувача і встановити для нього пароль

```bash
$ createuser -P username
```

Створити нову базу даних і надати користувачу доступ до неї

```bash
$ createdb database_name --owner owner_name
```
